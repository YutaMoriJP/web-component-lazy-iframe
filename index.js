var d=Object.defineProperty;var u=(o,s,t)=>s in o?d(o,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[s]=t;var c=(o,s,t)=>u(o,typeof s!="symbol"?s+"":s,t);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function t(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(e){if(e.ep)return;e.ep=!0;const r=t(e);fetch(e.href,r)}})();const h=o=>new Promise(s=>setTimeout(s,o));class m extends HTMLElement{constructor(){super();c(this,"iframe",null);c(this,"observer",null);c(this,"src","");c(this,"className","")}static get observedAttributes(){return["src"]}connectedCallback(){this.src=this.getAttribute("src")||"",this.observer=new IntersectionObserver(t=>{t.forEach(i=>{var e;i.isIntersecting&&(this.loadIframe(),(e=this.observer)==null||e.disconnect())})},{threshold:.45}),this.observer.observe(this)}attributeChangedCallback(t,i,e){t==="src"&&this.iframe&&(this.iframe.src=e)}getIframeProps(){const t={},i=["delay","width","height","style","loading","allow","className","allowfullscreen","referrerpolicy","name"];for(const e of i){const r=this.getAttribute(e);typeof r=="string"&&(t[e]=r)}return t}setAttributes(t){if(this.iframe)for(const i in t){const e=t[i];typeof e=="string"&&e.length>0&&this.iframe.setAttribute(i,e)}}async loadIframe(){const{delay:t="0",width:i="100%",height:e="100%",allow:r="clipboard-read; clipboard-write",loading:n="lazy",className:a="",referrerpolicy:l,name:f}=this.getIframeProps();await h(Number(t)),!this.iframe&&this.src&&(this.iframe=document.createElement("iframe"),this.setAttributes({src:this.src,delay:t,width:i,height:e,allow:r,loading:n,className:a,referrerpolicy:l,name:f}),this.appendChild(this.iframe))}disconnectedCallback(){this.observer&&this.observer.disconnect()}}customElements.define("dragon-iframe",m);

